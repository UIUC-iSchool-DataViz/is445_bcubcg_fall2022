<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
    {% include head.html %}
<script src="https://cdn.jsdelivr.net/npm/vega@5.16.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.16.2"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>
    <body>
{% include header.html %}

        <main>
            <div class="container">
                <div class="section">
                    <div class="content">
                        <h1>{{ page.title }}</h1>
                        <p>{{page.description}}</p>
                        <div class="columns">
                            <div class="column">
                                <pre><code id="vlSpec">
                                {{- page.content -}}
                                </code></pre>
                            </div>
                            <div class="column">
                                <div id="viz">
                                </div>
                                <script>
                                    var vlSpecString = document.getElementById("vlSpec").innerHTML.replace(
                                        '"data/', '"https://vega.github.io/editor/data/');
                                    vegaEmbed('#viz', JSON.parse(vlSpecString));
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        {% include footer.html %}
    </body>
</html>
